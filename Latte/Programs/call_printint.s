
.extern _printInt
.extern _printString
.extern _readString
.extern _readInt
.extern _error
.extern _concatStrings
.extern _compareStrings
.intel_syntax
.global _main
_main:
PUSH RBP
MOV RBP, RSP
PUSH RDI
PUSH 0
MOV RDI, 10
CALL _ifac
ADD RSP, 8
POP RDI
MOV RDI, RAX
PUSH RDI
PUSH 0
MOV RDI, RDI
CALL _printInt
ADD RSP, 8
POP RDI
MOV RAX, 0
MOV RSP, RBP
POP RBP
RET
_ifac:
PUSH RBP
MOV RBP, RSP
MOV [RBP-8], RDI
SUB RSP, 8
PUSH RDI
MOV RDI, 1
MOV RSI, [RBP-8]
CALL _ifac2f
POP RDI
MOV RDI, RAX
MOV RAX, RDI
ADD RSP, 8
MOV RSP, RBP
POP RBP
RET
_ifac2f:
PUSH RBP
MOV RBP, RSP
MOV [RBP-8], RDI
MOV [RBP-16], RSI
SUB RSP, 24
MOV RDI, [RBP-8]
MOV R11, [RBP-16]
MOV [RBP-8], RDI
MOV [RBP-16], R11
CMP RDI, R11
MOV R11, 0
 SETE R11B
TEST R11, R11
JE l1
MOV RDI, [RBP-8]
MOV [RBP-8], RDI
MOV RAX, RDI
ADD RSP, 24
MOV RSP, RBP
POP RBP
RET
l1:
MOV RDI, [RBP-8]
MOV R11, [RBP-16]
MOV [RBP-8], RDI
MOV [RBP-16], R11
CMP RDI, R11
MOV R11, 0
SETG R11B
TEST R11, R11
JE l3
MOV RAX, 1
ADD RSP, 24
MOV RSP, RBP
POP RBP
RET
l3:
MOV RDI, 0
MOV R11, [RBP-8]
MOV [RBP-24], RDI
MOV RDI, [RBP-16]
MOV [RBP-16], RDI
ADD RDI, R11
MOV RAX, RDI
CQO 
PUSH RDI
MOV RDI, 2
IDIV RDI
POP RDI
MOV RDI, RAX
MOV [RBP-8], R11
PUSH RDI
PUSH R11
PUSH 0
MOV RDI, [RBP-8]
MOV RSI, RDI
CALL _ifac2f
ADD RSP, 8
POP R11
POP RDI
MOV R11, RAX
ADD RDI, 1
PUSH R11
PUSH RDI
PUSH R11
MOV RDI, RDI
MOV RSI, [RBP-16]
CALL _ifac2f
POP R11
POP RDI
MOV R11, RAX
PUSH R11
MOV R11, [RBP-32]
PUSH RDI
MOV RDI, [RBP-40]
IMUL RDI, R11
MOV RAX, RDI
ADD RSP, 48
MOV RSP, RBP
POP RBP
RET
